define(['jQuery'],function($){$.fn.loadHtml=function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments);}
var selector,type,response,self=this,off=url.indexOf(" ");if(off>=0){selector=jQuery.trim(url.slice(off));url=url.slice(0,off);}
if(jQuery.isFunction(params)){callback=params;params=undefined;}else if(params&&typeof params==="object"){type="POST";}
if(self.length>0){$.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments;self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):$.initHtml().purifyHtml(responseText));}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR]);});}
return this;};$.fn.serializeObject=function(){var list=this.serializeArray(),obj={};for(var li in list)obj[list[li].name]=list[li].value;return obj;};$.fn.hoverIn=function(e){return $(this).addClass("hover");};$.fn.hoverOut=function(e){return $(this).removeClass("hover");};$.fn.prevTo=function(v){var _this=$(this);for(var i=parseInt(v);i--;){if(0==_this.prev().length)break;_this=_this.prev();}
return _this;};$.fn.nextTo=function(v){var _this=$(this);for(var i=parseInt(v);i--;){if(0==_this.next().length)break;_this=_this.next();}
return _this;};$.extend({searchObject:function(str){var list=(str||location.search).replace("?","").split("&"),obj={};for(var li in list){var s=list[li].split("=");if(s.length){obj[s[0]]=s.length>1?s[1]:"";}}
return obj;},initHtml:function(){$('base').remove();$('[rel="icon"]').remove();$('body').html('');return $;},purifyHtml:function(responseText){return responseText.replace(/<(link|script).*(ext|bootstrap).*>/g,"");},assign:function(o1,o2){for(var o in o2)o1[o]=o2[o];return o1;},addLogs:function(moduleId,operation,params){$.post(AppBase+"/ShareControl/addlog",{moduleId:moduleId,operation:operation,params:params},function(){});}});});